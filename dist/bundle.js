/*! For license information please see bundle.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(self,(function(){return function(){var e={415:function(e,t,r){"use strict";function n(e){return 1==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}r.r(t),r.d(t,{withPaging:function(){return xt}});var o,i,a,s=function(e){var t,r;return!1!==n(e)&&"function"==typeof(t=e.constructor)&&!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")},c=r(181),u="undefined"!=typeof Symbol,f="undefined"!=typeof Map,l="undefined"!=typeof Set,h=u?Symbol("immer-nothing"):((o={})["immer-nothing"]=!0,o),d=u?Symbol("immer-draftable"):"__$immer_draftable",p=u?Symbol("immer-state"):"__$immer_state",v=u?Symbol.iterator:"@@iterator",g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function y(e,t){function r(){this.constructor=e}g(e,t),e.prototype=(r.prototype=t.prototype,new r)}function m(e){return!!e&&!!e[p]}function b(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[d]||!!e.constructor[d]||E(e)||F(e))}!function(e){e[e.Object=0]="Object",e[e.Array=1]="Array",e[e.Map=2]="Map",e[e.Set=3]="Set"}(i||(i={})),function(e){e[e.ProxyObject=0]="ProxyObject",e[e.ProxyArray=1]="ProxyArray",e[e.ES5Object=2]="ES5Object",e[e.ES5Array=3]="ES5Array",e[e.Map=4]="Map",e[e.Set=5]="Set"}(a||(a={}));var w="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function O(e,t){x(e)===i.Object?w(e).forEach((function(r){return t(r,e[r],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function x(e){if(e||N(),e[p])switch(e[p].type){case a.ES5Object:case a.ProxyObject:return i.Object;case a.ES5Array:case a.ProxyArray:return i.Array;case a.Map:return i.Map;case a.Set:return i.Set}return Array.isArray(e)?i.Array:E(e)?i.Map:F(e)?i.Set:i.Object}function P(e,t){return x(e)===i.Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function j(e,t){return x(e)===i.Map?e.get(t):e[t]}function A(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function E(e){return f&&e instanceof Map}function F(e){return l&&e instanceof Set}function k(e){return e.copy||e.base}function S(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return w(e).forEach((function(n){if(n!==p){var o=Object.getOwnPropertyDescriptor(e,n),i=o.value;if(o.get){if(!t)throw new Error("Immer drafts cannot have computed properties");i=o.get.call(e)}o.enumerable?r[n]=i:Object.defineProperty(r,n,{value:i,writable:!0,configurable:!0})}})),r}function D(e,t){if(b(e)&&!m(e)&&!Object.isFrozen(e)){var r=x(e);r===i.Set?e.add=e.clear=e.delete=C:r===i.Map&&(e.set=e.clear=e.delete=C),Object.freeze(e),t&&O(e,(function(e,t){return D(t,!0)}))}}function C(){throw new Error("This object has been frozen and should not be mutated")}function N(){throw new Error("Illegal state, please file a bug")}var B=function(){function e(e,t){this.drafts=[],this.parent=e,this.immer=t,this.canAutoFreeze=!0}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(R),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(t){var r=new e(e.current,t);return e.current=r,r},e}();function R(e){var t=e[p];t.type===a.ProxyObject||t.type===a.ProxyArray?t.revoke():t.revoked=!0}function _(e,t,r){var n=r.drafts[0],o=void 0!==t&&t!==n;if(e.willFinalize(r,t,o),o){if(n[p].modified)throw r.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");b(t)&&(t=M(e,t,r),r.parent||q(e,t)),r.patches&&(r.patches.push({op:"replace",path:[],value:t}),r.inversePatches.push({op:"replace",path:[],value:n[p].base}))}else t=M(e,n,r,[]);return r.revoke(),r.patches&&r.patchListener(r.patches,r.inversePatches),t!==h?t:void 0}function M(e,t,r,n){var o=t[p];if(!o)return Object.isFrozen(t)?t:T(e,t,r);if(o.scope!==r)return t;if(!o.modified)return q(e,o.base,!0),o.base;if(!o.finalized){if(o.finalized=!0,T(e,o.draft,r,n),e.onDelete&&o.type!==a.Set)if(e.useProxies)O(o.assigned,(function(t,r){r||e.onDelete(o,t)}));else{var i=o.base,s=o.copy;O(i,(function(t){P(s,t)||e.onDelete(o,t)}))}e.onCopy&&e.onCopy(o),e.autoFreeze&&r.canAutoFreeze&&D(o.copy,!1),n&&r.patches&&function(e,t,r,n){switch(e.type){case a.ProxyObject:case a.ES5Object:case a.Map:return function(e,t,r,n){var o=e.base,i=e.copy;O(e.assigned,(function(e,a){var s=j(o,e),c=j(i,e),u=a?P(o,e)?"replace":"add":"remove";if(s!==c||"replace"!==u){var f=t.concat(e);r.push("remove"===u?{op:u,path:f}:{op:u,path:f,value:c}),n.push("add"===u?{op:"remove",path:f}:"remove"===u?{op:"add",path:f,value:s}:{op:"replace",path:f,value:s})}}))}(e,t,r,n);case a.ES5Array:case a.ProxyArray:return function(e,t,r,n){var o,i,a=e.base,s=e.assigned,c=e.copy;c||N(),c.length<a.length&&(a=(o=[c,a])[0],c=o[1],r=(i=[n,r])[0],n=i[1]);for(var u=c.length-a.length,f=0;a[f]===c[f]&&f<a.length;)++f;for(var l=a.length;l>f&&a[l-1]===c[l+u-1];)--l;for(var h=f;h<l;++h)if(s[h]&&c[h]!==a[h]){var d=t.concat([h]);r.push({op:"replace",path:d,value:c[h]}),n.push({op:"replace",path:d,value:a[h]})}var p=r.length;for(h=l+u-1;h>=l;--h)d=t.concat([h]),r[p+h-l]={op:"add",path:d,value:c[h]},n.push({op:"remove",path:d})}(e,t,r,n);case a.Set:!function(e,t,r,n){var o=e.base,i=e.copy,a=0;o.forEach((function(e){if(!i.has(e)){var o=t.concat([a]);r.push({op:"remove",path:o,value:e}),n.unshift({op:"add",path:o,value:e})}a++})),a=0,i.forEach((function(e){if(!o.has(e)){var i=t.concat([a]);r.push({op:"add",path:i,value:e}),n.unshift({op:"remove",path:i,value:e})}a++}))}(e,t,r,n)}}(o,n,r.patches,r.inversePatches)}return o.copy}function T(e,t,r,n){var o=t[p];return o&&(o.type!==a.ES5Object&&o.type!==a.ES5Array||(o.copy=S(o.draft,!0)),t=o.copy),O(t,(function(i,a){return z(e,r,t,o,t,i,a,n)})),t}function z(e,t,r,n,o,a,s,c){if(s===o)throw Error("Immer forbids circular references");var u=!!n&&o===r,f=F(o);if(m(s)){var l=c&&u&&!f&&!P(n.assigned,a)?c.concat(a):void 0;(function(e,t,r){switch(x(e)){case i.Map:e.set(t,r);break;case i.Set:e.delete(t),e.add(r);break;default:e[t]=r}})(o,a,s=M(e,s,t,l)),m(s)&&(t.canAutoFreeze=!1)}else{if(u&&A(s,j(n.base,a)))return;b(s)&&(O(s,(function(o,i){return z(e,t,r,n,s,o,i,c)})),t.parent||q(e,s))}u&&e.onAssign&&!f&&e.onAssign(n,a,s)}function q(e,t,r){void 0===r&&(r=!1),e.autoFreeze&&!m(t)&&D(t,r)}var I={get:function(e,t){if(t===p)return e;var r=e.drafts;if(!e.modified&&P(r,t))return r[t];var n=k(e)[t];if(e.finalized||!b(n))return n;if(e.modified){if(n!==W(e.base,t))return n;r=e.copy}return r[t]=e.scope.immer.createProxy(n,e)},has:function(e,t){return t in k(e)},ownKeys:function(e){return Reflect.ownKeys(k(e))},set:function(e,t,r){if(!e.modified){var n=W(e.base,t);if(r?A(n,r)||r===e.drafts[t]:A(n,r)&&t in e.base)return!0;L(e),J(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){return void 0!==W(e.base,t)||t in e.base?(e.assigned[t]=!1,L(e),J(e)):e.assigned[t]&&delete e.assigned[t],e.copy&&delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var r=k(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&(n.writable=!0,n.configurable=e.type!==a.ProxyArray||"length"!==t),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},V={};function W(e,t){var r=e[p],n=Reflect.getOwnPropertyDescriptor(r?k(r):e,t);return n&&n.value}function J(e){if(!e.modified){if(e.modified=!0,e.type===a.ProxyObject||e.type===a.ProxyArray){var t=e.copy=S(e.base);O(e.drafts,(function(e,r){t[e]=r})),e.drafts=void 0}e.parent&&J(e.parent)}}function L(e){e.copy||(e.copy=S(e.base))}function U(e,t,r){e.drafts.forEach((function(e){e[p].finalizing=!0})),r?m(t)&&t[p].scope===e&&Q(e.drafts):(e.patches&&X(e.drafts[0]),Q(e.drafts))}function $(e,t){var r=e[p];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function H(e){e.modified||(e.modified=!0,e.parent&&H(e.parent))}function K(e){e.copy||(e.copy=Z(e.base))}function Z(e){var t=e&&e[p];if(t){t.finalizing=!0;var r=S(t.draft,!0);return t.finalizing=!1,r}return S(e)}O(I,(function(e,t){V[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),V.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return I.deleteProperty.call(this,e[0],t)},V.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return I.set.call(this,e[0],t,r,e[0])};var Y={};function G(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(k(e)))}function Q(e){for(var t=e.length-1;t>=0;t--){var r=e[t][p];if(!r.modified)switch(r.type){case a.ES5Array:te(r)&&H(r);break;case a.ES5Object:ee(r)&&H(r)}}}function X(e){if(e&&"object"==typeof e){var t=e[p];if(t){var r=t.base,n=t.draft,o=t.assigned,i=t.type;if(i===a.ES5Object)O(n,(function(e){e!==p&&(void 0!==r[e]||P(r,e)?o[e]||X(n[e]):(o[e]=!0,H(t)))})),O(r,(function(e){void 0!==n[e]||P(n,e)||(o[e]=!1,H(t))}));else if(i===a.ES5Array){if(te(t)&&(H(t),o.length=!0),n.length<r.length)for(var s=n.length;s<r.length;s++)o[s]=!1;else for(s=r.length;s<n.length;s++)o[s]=!0;var c=Math.min(n.length,r.length);for(s=0;s<c;s++)void 0===o[s]&&X(n[s])}}}}function ee(e){for(var t=e.base,r=e.draft,n=Object.keys(r),o=n.length-1;o>=0;o--){var i=n[o],a=t[i];if(void 0===a&&!P(t,i))return!0;var s=r[i],c=s&&s[p];if(c?c.base!==a:!A(s,a))return!0}return n.length!==Object.keys(t).length}function te(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var re=function(e){if(!e)throw new Error("Map is not polyfilled");function t(e,t){return this[p]={type:a.Map,parent:t,scope:t?t.scope:B.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:e,draft:this,isManual:!1,revoked:!1},this}y(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return k(this[p]).size},enumerable:!0,configurable:!0}),r.has=function(e){return k(this[p]).has(e)},r.set=function(e,t){var r=this[p];return G(r),k(r).get(e)!==t&&(ne(r),r.scope.immer.markChanged(r),r.assigned.set(e,!0),r.copy.set(e,t),r.assigned.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[p];return G(t),ne(t),t.scope.immer.markChanged(t),t.assigned.set(e,!1),t.copy.delete(e),!0},r.clear=function(){var e=this[p];return G(e),ne(e),e.scope.immer.markChanged(e),e.assigned=new Map,e.copy.clear()},r.forEach=function(e,t){var r=this;k(this[p]).forEach((function(n,o,i){e.call(t,r.get(o),o,r)}))},r.get=function(e){var t=this[p];G(t);var r=k(t).get(e);if(t.finalized||!b(r))return r;if(r!==t.base.get(e))return r;var n=t.scope.immer.createProxy(r,t);return ne(t),t.copy.set(e,n),n},r.keys=function(){return k(this[p]).keys()},r.values=function(){var e,t=this,r=this.keys();return(e={})[v]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,r=this.keys();return(e={})[v]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},r[v]=function(){return this.entries()},t}(Map);function ne(e){e.copy||(e.assigned=new Map,e.copy=new Map(e.base))}var oe=function(e){if(!e)throw new Error("Set is not polyfilled");function t(e,t){return this[p]={type:a.Set,parent:t,scope:t?t.scope:B.current,modified:!1,finalized:!1,copy:void 0,base:e,draft:this,drafts:new Map,revoked:!1,isManual:!1},this}y(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return k(this[p]).size},enumerable:!0,configurable:!0}),r.has=function(e){var t=this[p];return G(t),t.copy?!!t.copy.has(e)||!(!t.drafts.has(e)||!t.copy.has(t.drafts.get(e))):t.base.has(e)},r.add=function(e){var t=this[p];return G(t),t.copy?t.copy.add(e):t.base.has(e)||(ie(t),t.scope.immer.markChanged(t),t.copy.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[p];return G(t),ie(t),t.scope.immer.markChanged(t),t.copy.delete(e)||!!t.drafts.has(e)&&t.copy.delete(t.drafts.get(e))},r.clear=function(){var e=this[p];return G(e),ie(e),e.scope.immer.markChanged(e),e.copy.clear()},r.values=function(){var e=this[p];return G(e),ie(e),e.copy.values()},r.entries=function(){var e=this[p];return G(e),ie(e),e.copy.entries()},r.keys=function(){return this.values()},r[v]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}(Set);function ie(e){e.copy||(e.copy=new Set,e.base.forEach((function(t){if(b(t)){var r=e.scope.immer.createProxy(t,e);e.drafts.set(t,r),e.copy.add(r)}else e.copy.add(t)})))}function ae(e,t){return t.forEach((function(t){var r=t.path,n=t.op;r.length||N();for(var o=e,a=0;a<r.length-1;a++)if(!(o=j(o,r[a]))||"object"!=typeof o)throw new Error("Cannot apply patch, path doesn't resolve: "+r.join("/"));var s=x(o),c=se(t.value),u=r[r.length-1];switch(n){case"replace":switch(s){case i.Map:return o.set(u,c);case i.Set:throw new Error('Sets cannot have "replace" patches.');default:return o[u]=c}case"add":switch(s){case i.Array:return o.splice(u,0,c);case i.Map:return o.set(u,c);case i.Set:return o.add(c);default:return o[u]=c}case"remove":switch(s){case i.Array:return o.splice(u,1);case i.Map:return o.delete(u);case i.Set:return o.delete(t.value);default:return delete o[u]}default:throw new Error("Unsupported patch operation: "+n)}})),e}function se(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(se);if(E(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],se(e[1])]})));if(F(e))return new Set(Array.from(e).map(se));var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=se(e[r]);return t}function ce(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}var ue={useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:"undefined"==typeof process&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},fe=new(function(){function e(e){var t=this;this.useProxies=!1,this.autoFreeze=!1,O(ue,(function(r,n){var o,i;t[r]=null!=(i=null===(o=e)||void 0===o?void 0:o[r])?i:n})),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,t,r){var n,o=this;if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var a=this;return function(e){var r=arguments,n=this;void 0===e&&(e=i);for(var o=[],s=1;s<arguments.length;s++)o[s-1]=r[s];return a.produce(e,(function(e){return t.call.apply(t,ce([n,e],o))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(b(e)){var s=B.enter(this),c=this.createProxy(e,void 0),u=!0;try{n=t(c),u=!1}finally{u?s.revoke():s.leave()}return"undefined"!=typeof Promise&&n instanceof Promise?n.then((function(e){return s.usePatches(r),_(o,e,s)}),(function(e){throw s.revoke(),e})):(s.usePatches(r),_(this,n,s))}if((n=t(e))!==h)return void 0===n&&(n=e),q(this,n,!0),n},e.prototype.produceWithPatches=function(e,t,r){var n,o,i=this;return"function"==typeof e?function(t){for(var r=arguments,n=[],o=1;o<arguments.length;o++)n[o-1]=r[o];return i.produceWithPatches(t,(function(t){return e.apply(void 0,ce([t],n))}))}:(r&&N(),[this.produce(e,t,(function(e,t){n=e,o=t})),n,o])},e.prototype.createDraft=function(e){if(!b(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=B.enter(this),r=this.createProxy(e,void 0);return r[p].isManual=!0,t.leave(),r},e.prototype.finishDraft=function(e,t){var r=e&&e[p];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),_(this,void 0,n)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e},e.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return m(e)?ae(e,t):this.produce(e,(function(e){return ae(e,t.slice(r+1))}))},e.prototype.createProxy=function(e,t){var r=E(e)?function(e,t){return new re(e,t)}(e,t):F(e)?function(e,t){return new oe(e,t)}(e,t):this.useProxies?function(e,t){var r=Array.isArray(e),n={type:r?a.ProxyArray:a.ProxyObject,scope:t?t.scope:B.current,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null,isManual:!1},o=n,i=I;r&&(o=[n],i=V);var s=Proxy.revocable(o,i),c=s.revoke,u=s.proxy;return n.draft=u,n.revoke=c,u}(e,t):function(e,t){var r=Array.isArray(e),n=Z(e);O(n,(function(t){!function(e,t,r){var n=Y[t];n?n.enumerable=r:Y[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){G(e);var r=$(k(e),t);return e.finalizing?r:r===$(e.base,t)&&b(r)?(K(e),e.copy[t]=e.scope.immer.createProxy(r,e)):r}(this[p],t)},set:function(e){!function(e,t,r){if(G(e),e.assigned[t]=!0,!e.modified){if(A(r,$(k(e),t)))return;H(e),K(e)}e.copy[t]=r}(this[p],t,e)}},Object.defineProperty(e,t,n)}(n,t,r||function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(!r||!r.enumerable)}(e,t))}));var o,i,s,c={type:r?a.ES5Array:a.ES5Object,scope:t?t.scope:B.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoked:!1,isManual:!1};return o=n,i=p,s=c,Object.defineProperty(o,i,{value:s,enumerable:!1,writable:!0}),n}(e,t);return(t?t.scope:B.current).drafts.push(r),r},e.prototype.willFinalize=function(e,t,r){this.useProxies||U(e,t,r)},e.prototype.markChanged=function(e){this.useProxies?J(e):H(e)},e}()),le=fe.produce,he=(fe.produceWithPatches.bind(fe),fe.setAutoFreeze.bind(fe),fe.setUseProxies.bind(fe),fe.applyPatches.bind(fe),fe.createDraft.bind(fe)),de=fe.finishDraft.bind(fe);function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ge=new WeakMap,ye=(new WeakMap,new WeakMap),me=new WeakMap,be=new WeakMap,we=new WeakMap,Oe=/\s/,xe=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Pe=/['\u2018\u2019]/,je=e=>{for(var t=0,r=null,n=e.charCodeAt(0);n;)if(Ee(n)){var o=Fe(n,e,t);if("SURR"===r||"BMP"===r)break;t+=2,r=o?"MOD":"SURR",n=e.charCodeAt(t)}else if(8205!==n)if(Se(n)){if(r&&"ZWJ"!==r&&"VAR"!==r)break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!ke(n)){if("MOD"===r){t+=1;break}break}if(r&&"ZWJ"!==r)break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},Ae=(e,t)=>{if(Oe.test(e))return!1;if(Pe.test(e)){var r=t.charAt(0),n=je(r);r=t.slice(0,n);var o=t.slice(n);if(Ae(r,o))return!0}return!xe.test(e)},Ee=e=>55296<=e&&e<=57343,Fe=(e,t,r)=>{if(55356===e){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},ke=e=>e<=65039&&e>=65024,Se=e=>10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e;function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ne={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:o=e.selection,match:i}=t;if(o){var a=Ne.path(e,o),s="lowest"===n;for(var[c,u]of Ne.levels(e,{at:a,voids:r,match:i,reverse:s}))if(!$e.isText(c)&&!qe.equals(a,u))return[c,u]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:Ne.point(e,t,{edge:"end"}),focus:Ne.end(e,[])},{distance:i=1}=n,a=0;for(var s of Ne.positions(e,Ce({},n,{at:o}))){if(a>i)break;0!==a&&(r=s),a++}return r},before(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:Ne.start(e,[]),focus:Ne.point(e,t,{edge:"start"})},{distance:i=1}=n,a=0;for(var s of Ne.positions(e,Ce({},n,{at:o,reverse:!0}))){if(a>i)break;0!==a&&(r=s),a++}return r},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){e.deleteFragment()},edges:(e,t)=>[Ne.start(e,t),Ne.end(e,t)],end:(e,t)=>Ne.point(e,t,{edge:"end"}),first(e,t){var r=Ne.path(e,t,{edge:"start"});return Ne.node(e,r)},fragment(e,t){var r=Ne.range(e,t);return _e.fragment(e,r)},hasBlocks:(e,t)=>t.children.some((t=>Ne.isBlock(e,t))),hasInlines:(e,t)=>t.children.some((t=>$e.isText(t)||Ne.isInline(e,t))),hasTexts:(e,t)=>t.children.every((e=>$e.isText(e))),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>Be.isElement(t)&&!e.isInline(t),isEditor:e=>s(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||s(e.marks))&&(null===e.selection||Je.isRange(e.selection))&&_e.isNodeList(e.children)&&ze.isOperationList(e.operations),isEnd(e,t,r){var n=Ne.end(e,r);return Ve.equals(t,n)},isEdge:(e,t,r)=>Ne.isStart(e,t,r)||Ne.isEnd(e,t,r),isEmpty(e,t){var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&$e.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:(e,t)=>Be.isElement(t)&&e.isInline(t),isNormalizing(e){var t=ye.get(e);return void 0===t||t},isStart(e,t,r){if(0!==t.offset)return!1;var n=Ne.start(e,r);return Ve.equals(t,n)},isVoid:(e,t)=>Be.isElement(t)&&e.isVoid(t),last(e,t){var r=Ne.path(e,t,{edge:"end"});return Ne.node(e,r)},leaf(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Ne.path(e,t,r);return[_e.leaf(e,n),n]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:o=!1}=t,{match:i}=t;if(null==i&&(i=()=>!0),r){var a=[],s=Ne.path(e,r);for(var[c,u]of _e.levels(e,s))if(i(c)&&(a.push([c,u]),!o&&Ne.isVoid(e,c)))break;n&&a.reverse(),yield*a}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(Je.isExpanded(r)){var[n]=Ne.nodes(e,{match:$e.isText});if(n){var[o]=n;return ve(o,["text"])}return{}}var{anchor:i}=r,{path:a}=i,[s]=Ne.leaf(e,a);if(0===i.offset){var c=Ne.previous(e,{at:a,match:$e.isText}),u=Ne.above(e,{match:t=>Ne.isBlock(e,t)});if(c&&u){var[f,l]=c,[,h]=u;qe.isAncestor(h,l)&&(s=f)}}return ve(s,["text"])},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection}=t;if(i){var[,a]=Ne.last(e,i),[,s]=Ne.last(e,[]),c=[a,s];if(qe.isPath(i)&&0===i.length)throw new Error("Cannot get the next node from the root node!");if(null==o)if(qe.isPath(i)){var[u]=Ne.parent(e,i);o=e=>u.children.includes(e)}else o=()=>!0;var[,f]=Ne.nodes(e,{at:c,match:o,mode:r,voids:n});return f}},node(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Ne.path(e,t,r);return[_e.get(e,n),n]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:o=!1,reverse:i=!1,voids:a=!1}=t,{match:s}=t;if(s||(s=()=>!0),r){var c,u;if(Re.isSpan(r))c=r[0],u=r[1];else{var f=Ne.path(e,r,{edge:"start"}),l=Ne.path(e,r,{edge:"end"});c=i?l:f,u=i?f:l}var h,d=_e.nodes(e,{reverse:i,from:c,to:u,pass:t=>{var[r]=t;return!a&&Ne.isVoid(e,r)}}),p=[];for(var[v,g]of d){var y=h&&0===qe.compare(g,h[1]);if("highest"!==n||!y)if(s(v))if("lowest"===n&&y)h=[v,g];else{var m="lowest"===n?h:[v,g];m&&(o?p.push(m):yield m),h=[v,g]}else if(o&&!y&&$e.isText(v))return}"lowest"===n&&h&&(o?p.push(h):yield h),o&&(yield*p)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1}=t,n=e=>ge.get(e)||[];if(Ne.isNormalizing(e)){if(r){var o=Array.from(_e.nodes(e),(e=>{var[,t]=e;return t}));ge.set(e,o)}0!==n(e).length&&Ne.withoutNormalizing(e,(()=>{for(var t=42*n(e).length,r=0;0!==n(e).length;){if(r>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var o=n(e).pop(),i=Ne.node(e,o);e.normalizeNode(i),r++}}))}},parent(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Ne.path(e,t,r),o=qe.parent(n);return Ne.node(e,o)},path(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:o}=r;if(qe.isPath(t))if("start"===o){var[,i]=_e.first(e,t);t=i}else if("end"===o){var[,a]=_e.last(e,t);t=a}return Je.isRange(t)&&(t="start"===o?Je.start(t):"end"===o?Je.end(t):qe.common(t.anchor.path,t.focus.path)),Ve.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},pathRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return Ne.pathRefs(e).delete(o),o.current=null,t}};return Ne.pathRefs(e).add(o),o},pathRefs(e){var t=me.get(e);return t||(t=new Set,me.set(e,t)),t},point(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if(qe.isPath(t)){var o;if("end"===n){var[,i]=_e.last(e,t);o=i}else{var[,a]=_e.first(e,t);o=a}var s=_e.get(e,o);if(!$e.isText(s))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:o,offset:"end"===n?s.text.length:0}}if(Je.isRange(t)){var[c,u]=Je.edges(t);return"start"===n?c:u}return t},pointRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return Ne.pointRefs(e).delete(o),o.current=null,t}};return Ne.pointRefs(e).add(o),o},pointRefs(e){var t=be.get(e);return t||(t=new Set,be.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:o=!1}=t;if(r){var i=Ne.range(e,r),[a,s]=Je.edges(i),u=o?s:a,f="",l=0,h=0,d=null,p=!1;for(var[v,g]of Ne.nodes(e,{at:r,reverse:o})){if(Be.isElement(v)){if(e.isVoid(v)){yield Ne.start(e,g);continue}if(e.isInline(v))continue;if(Ne.hasInlines(e,v)){var y=qe.isAncestor(g,s.path)?s:Ne.end(e,g),m=qe.isAncestor(g,a.path)?a:Ne.start(e,g),b=Ne.string(e,{anchor:m,focus:y});f=o?(0,c.reverse)(b):b,p=!0}}if($e.isText(v)){var w=qe.equals(g,u.path);for(l=v.text.length,h=o?l:0,w&&(l=o?u.offset:l-u.offset,h=u.offset),(w||p||"offset"===n)&&(yield{path:g,offset:h});""!==f&&(null==d&&(d="character"===n?je(f):"word"===n?(e=>{for(var t,r=0,n=0,o=!1;t=e.charAt(n);){var i=je(t);t=e.slice(n,n+i);var a=e.slice(n+i);if(Ae(t,a))o=!0,r+=i;else{if(o)break;r+=i}n+=i}return r})(f):"line"===n||"block"===n?f.length:1,f=f.slice(d)),h=o?h-d:h+d,d=(l-=d)>=0?null:0-l,l>=0);)yield{path:g,offset:h};p=!1}}}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection}=t;if(i){var[,a]=Ne.first(e,i),[,s]=Ne.first(e,[]),c=[a,s];if(qe.isPath(i)&&0===i.length)throw new Error("Cannot get the previous node from the root node!");if(null==o)if(qe.isPath(i)){var[u]=Ne.parent(e,i);o=e=>u.children.includes(e)}else o=()=>!0;var[,f]=Ne.nodes(e,{reverse:!0,at:c,match:o,mode:r,voids:n});return f}},range:(e,t,r)=>Je.isRange(t)&&!r?t:{anchor:Ne.start(e,t),focus:Ne.end(e,r||t)},rangeRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return Ne.rangeRefs(e).delete(o),o.current=null,t}};return Ne.rangeRefs(e).add(o),o},rangeRefs(e){var t=we.get(e);return t||(t=new Set,we.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>Ne.point(e,t,{edge:"start"}),string(e,t){var r=Ne.range(e,t),[n,o]=Je.edges(r),i="";for(var[a,s]of Ne.nodes(e,{at:r,match:$e.isText})){var c=a.text;qe.equals(s,o.path)&&(c=c.slice(0,o.offset)),qe.equals(s,n.path)&&(c=c.slice(n.offset)),i+=c}return i},unhangRange(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[o,i]=Je.edges(t);if(0!==o.offset||0!==i.offset||Je.isCollapsed(t))return t;var a=Ne.above(e,{at:i,match:t=>Ne.isBlock(e,t)}),s=a?a[1]:[],c={anchor:Ne.start(e,[]),focus:i},u=!0;for(var[f,l]of Ne.nodes(e,{at:c,match:$e.isText,reverse:!0,voids:n}))if(u)u=!1;else if(""!==f.text||qe.isBefore(l,s)){i={path:l,offset:f.text.length};break}return{anchor:o,focus:i}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ne.above(e,Ce({},t,{match:t=>Ne.isVoid(e,t)}))},withoutNormalizing(e,t){var r=Ne.isNormalizing(e);ye.set(e,!1),t(),ye.set(e,r),Ne.normalize(e)}},Be={isElement:e=>s(e)&&_e.isNodeList(e.children)&&!Ne.isEditor(e),isElementList:e=>Array.isArray(e)&&(0===e.length||Be.isElement(e[0])),matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},Re={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(qe.isPath)},_e={ancestor(e,t){var r=_e.get(e,t);if($e.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of qe.ancestors(t,r)){var o=[_e.ancestor(e,n),n];yield o}},child(e,t){if($e.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:n=!1}=r,o=_e.ancestor(e,t),{children:i}=o,a=n?i.length-1:0;n?a>=0:a<i.length;){var s=_e.child(o,a),c=t.concat(a);yield[s,c],a=n?a-1:a+1}},common(e,t,r){var n=qe.common(t,r);return[_e.get(e,n),n]},descendant(e,t){var r=_e.get(e,t);if(Ne.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of _e.nodes(e,t))0!==n.length&&(yield[r,n])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of _e.nodes(e,t))Be.isElement(r)&&(yield[r,n])},first(e,t){for(var r=t.slice(),n=_e.get(e,r);n&&!$e.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if($e.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return le(e,(e=>{var[r,n]=Je.edges(t),o=_e.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!Je.includes(t,r)}});for(var[,i]of o){if(!Je.includes(t,i)){var a=_e.parent(e,i),s=i[i.length-1];a.children.splice(s,1)}if(qe.equals(i,n.path)){var c=_e.leaf(e,i);c.text=c.text.slice(0,n.offset)}if(qe.equals(i,r.path)){var u=_e.leaf(e,i);u.text=u.text.slice(r.offset)}}delete e.selection})).children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if($e.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if($e.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:e=>$e.isText(e)||Be.isElement(e)||Ne.isEditor(e),isNodeList:e=>Array.isArray(e)&&(0===e.length||_e.isNode(e[0])),last(e,t){for(var r=t.slice(),n=_e.get(e,r);n&&!$e.isText(n)&&0!==n.children.length;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=_e.get(e,t);if(!$e.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of qe.levels(t,r)){var o=_e.get(e,n);yield[o,n]}},matches:(e,t)=>Be.isElement(e)&&Be.matches(e,t)||$e.isText(e)&&$e.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:o=[],to:i}=t,a=new Set,s=[],c=e;!i||!(n?qe.isBefore(s,i):qe.isAfter(s,i));)if(a.has(c)||(yield[c,s]),a.has(c)||$e.isText(c)||0===c.children.length||null!=r&&!1!==r([c,s])){if(0===s.length)break;if(!n){var u=qe.next(s);if(_e.has(e,u)){s=u,c=_e.get(e,s);continue}}n&&0!==s[s.length-1]?(s=qe.previous(s),c=_e.get(e,s)):(s=qe.parent(s),c=_e.get(e,s),a.add(c))}else{a.add(c);var f=n?c.children.length-1:0;qe.isAncestor(s,o)&&(f=o[s.length]),s=s.concat(f),c=_e.get(e,s)}},parent(e,t){var r=qe.parent(t),n=_e.get(e,r);if($e.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>$e.isText(e)?e.text:e.children.map(_e.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of _e.nodes(e,t))$e.isText(r)&&(yield[r,n])}};function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ze={isNodeOperation:e=>ze.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!s(e))return!1;switch(e.type){case"insert_node":return qe.isPath(e.path)&&_e.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&qe.isPath(e.path);case"merge_node":return"number"==typeof e.position&&qe.isPath(e.path)&&s(e.properties);case"move_node":return qe.isPath(e.path)&&qe.isPath(e.newPath);case"remove_node":return qe.isPath(e.path)&&_e.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&qe.isPath(e.path);case"set_node":return qe.isPath(e.path)&&s(e.properties)&&s(e.newProperties);case"set_selection":return null===e.properties&&Je.isRange(e.newProperties)||null===e.newProperties&&Je.isRange(e.properties)||s(e.properties)&&s(e.newProperties);case"split_node":return qe.isPath(e.path)&&"number"==typeof e.position&&s(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&(0===e.length||ze.isOperation(e[0])),isSelectionOperation:e=>ze.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>ze.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Te({},e,{type:"remove_node"});case"insert_text":return Te({},e,{type:"remove_text"});case"merge_node":return Te({},e,{type:"split_node",path:qe.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;return qe.equals(t,r)?e:qe.isSibling(r,t)?Te({},e,{path:t,newPath:r}):Te({},e,{path:qe.transform(r,e),newPath:qe.transform(qe.next(r),e)});case"remove_node":return Te({},e,{type:"insert_node"});case"remove_text":return Te({},e,{type:"insert_text"});case"set_node":var{properties:n,newProperties:o}=e;return Te({},e,{properties:o,newProperties:n});case"set_selection":var{properties:i,newProperties:a}=e;return Te({},e,null==i?{properties:a,newProperties:null}:null==a?{properties:null,newProperties:i}:{properties:a,newProperties:i});case"split_node":return Te({},e,{type:"merge_node",path:qe.next(e.path)})}}},qe={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=qe.levels(e,t);return r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),i=e[r],a=t[r];return qe.equals(n,o)&&i>a},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return qe.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),i=e[r],a=t[r];return qe.equals(n,o)&&i<a},equals:(e,t)=>e.length===t.length&&e.every(((e,r)=>e===t[r])),isAfter:(e,t)=>1===qe.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===qe.compare(e,t),isBefore:(e,t)=>-1===qe.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===qe.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===qe.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===qe.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===qe.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&qe.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!qe.isAncestor(t,e)&&!qe.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return le(e,(n=>{var{affinity:o="forward"}=r;if(0!==e.length)switch(t.type){case"insert_node":var{path:i}=t;(qe.equals(i,n)||qe.endsBefore(i,n)||qe.isAncestor(i,n))&&(n[i.length-1]+=1);break;case"remove_node":var{path:a}=t;if(qe.equals(a,n)||qe.isAncestor(a,n))return null;qe.endsBefore(a,n)&&(n[a.length-1]-=1);break;case"merge_node":var{path:s,position:c}=t;qe.equals(s,n)||qe.endsBefore(s,n)?n[s.length-1]-=1:qe.isAncestor(s,n)&&(n[s.length-1]-=1,n[s.length]+=c);break;case"split_node":var{path:u,position:f}=t;if(qe.equals(u,n)){if("forward"===o)n[n.length-1]+=1;else if("backward"!==o)return null}else qe.endsBefore(u,n)?n[u.length-1]+=1:qe.isAncestor(u,n)&&e[u.length]>=f&&(n[u.length-1]+=1,n[u.length]-=f);break;case"move_node":var{path:l,newPath:h}=t;if(qe.equals(l,h))return;if(qe.isAncestor(l,n)||qe.equals(l,n)){var d=h.slice();return qe.endsBefore(l,h)&&l.length<h.length&&(d[l.length-1]-=1),d.concat(n.slice(l.length))}qe.isSibling(l,h)&&(qe.isAncestor(h,n)||qe.equals(h,n))?qe.endsBefore(l,n)?n[l.length-1]-=1:n[l.length-1]+=1:qe.endsBefore(h,n)||qe.equals(h,n)||qe.isAncestor(h,n)?(qe.endsBefore(l,n)&&(n[l.length-1]-=1),n[h.length-1]+=1):qe.endsBefore(l,n)&&(qe.equals(h,n)&&(n[h.length-1]+=1),n[l.length-1]-=1)}}))}};function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ve={compare(e,t){var r=qe.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===Ve.compare(e,t),isBefore:(e,t)=>-1===Ve.compare(e,t),equals:(e,t)=>e.offset===t.offset&&qe.equals(e.path,t.path),isPoint:e=>s(e)&&"number"==typeof e.offset&&qe.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return le(e,(e=>{var{affinity:n="forward"}=r,{path:o,offset:i}=e;switch(t.type){case"insert_node":case"move_node":e.path=qe.transform(o,t,r);break;case"insert_text":qe.equals(t.path,o)&&t.offset<=i&&(e.offset+=t.text.length);break;case"merge_node":qe.equals(t.path,o)&&(e.offset+=t.position),e.path=qe.transform(o,t,r);break;case"remove_text":qe.equals(t.path,o)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(qe.equals(t.path,o)||qe.isAncestor(t.path,o))return null;e.path=qe.transform(o,t,r);break;case"split_node":if(qe.equals(t.path,o)){if(t.position===i&&null==n)return null;(t.position<i||t.position===i&&"forward"===n)&&(e.offset-=t.position,e.path=qe.transform(o,t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{affinity:"forward"})))}else e.path=qe.transform(o,t,r)}}))}};function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Je={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return Je.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=Je.edges(e);return t},equals:(e,t)=>Ve.equals(e.anchor,t.anchor)&&Ve.equals(e.focus,t.focus),includes(e,t){if(Je.isRange(t)){if(Je.includes(e,t.anchor)||Je.includes(e,t.focus))return!0;var[r,n]=Je.edges(e),[o,i]=Je.edges(t);return Ve.isBefore(r,o)&&Ve.isAfter(n,i)}var[a,s]=Je.edges(e),c=!1,u=!1;return Ve.isPoint(t)?(c=Ve.compare(t,a)>=0,u=Ve.compare(t,s)<=0):(c=qe.compare(t,a.path)>=0,u=qe.compare(t,s.path)<=0),c&&u},intersection(e,t){var r=ve(e,["anchor","focus"]),[n,o]=Je.edges(e),[i,a]=Je.edges(t),s=Ve.isBefore(n,i)?i:n,c=Ve.isBefore(o,a)?o:a;return Ve.isBefore(c,s)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:s,focus:c},r)},isBackward(e){var{anchor:t,focus:r}=e;return Ve.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return Ve.equals(t,r)},isExpanded:e=>!Je.isCollapsed(e),isForward:e=>!Je.isBackward(e),isRange:e=>s(e)&&Ve.isPoint(e.anchor)&&Ve.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=Je.edges(e);return t},transform(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:i="inward"}=o;return"inward"===i?Je.isForward(e)?(r="forward",n="backward"):(r="backward",n="forward"):"outward"===i?Je.isForward(e)?(r="backward",n="forward"):(r="forward",n="backward"):(r=i,n=i),le(e,(e=>{var o=Ve.transform(e.anchor,t,{affinity:r}),i=Ve.transform(e.focus,t,{affinity:n});if(!o||!i)return null;e.anchor=o,e.focus=i}))}};function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $e={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;for(var o in e)if((!n||"text"!==o)&&e[o]!==t[o])return!1;for(var i in t)if((!n||"text"!==i)&&e[i]!==t[i])return!1;return!0},isText:e=>s(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&(0===e.length||$e.isText(e[0])),matches(e,t){for(var r in t)if("text"!==r&&e[r]!==t[r])return!1;return!0},decorations(e,t){var r=[Ue({},e)];for(var n of t){var o=ve(n,["anchor","focus"]),[i,a]=Je.edges(n),s=[],c=0;for(var u of r){var{length:f}=u.text,l=c;if(c+=f,i.offset<=l&&a.offset>=l+f)Object.assign(u,o),s.push(u);else if(i.offset>l+f||a.offset<l||a.offset===l&&0!==l)s.push(u);else{var h=u,d=void 0,p=void 0;if(a.offset<l+f){var v=a.offset-l;p=Ue({},h,{text:h.text.slice(v)}),h=Ue({},h,{text:h.text.slice(0,v)})}if(i.offset>l){var g=i.offset-l;d=Ue({},h,{text:h.text.slice(0,g)}),h=Ue({},h,{text:h.text.slice(g)})}Object.assign(h,o),d&&s.push(d),s.push(h),p&&s.push(p)}}r=s}return r}};function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ge={insertNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ne.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:o=!1,mode:i="lowest"}=r,{at:a,match:s,select:c}=r;if(_e.isNode(t)&&(t=[t]),0!==t.length){var[u]=t;if(a||(a=e.selection?e.selection:e.children.length>0?Ne.end(e,[]):[0],c=!0),null==c&&(c=!1),Je.isRange(a))if(n||(a=Ne.unhangRange(e,a)),Je.isCollapsed(a))a=a.anchor;else{var[,f]=Je.edges(a),l=Ne.pointRef(e,f);nt.delete(e,{at:a}),a=l.unref()}if(Ve.isPoint(a)){null==s&&(s=$e.isText(u)?e=>$e.isText(e):e.isInline(u)?t=>$e.isText(t)||Ne.isInline(e,t):t=>Ne.isBlock(e,t));var[h]=Ne.nodes(e,{at:a.path,match:s,mode:i,voids:o});if(!h)return;var[,d]=h,p=Ne.pathRef(e,d),v=Ne.isEnd(e,a,d);nt.splitNodes(e,{at:a,match:s,mode:i,voids:o});var g=p.unref();a=v?qe.next(g):g}var y=qe.parent(a),m=a[a.length-1];if(o||!Ne.void(e,{at:y})){for(var b of t){var w=y.concat(m);m++,e.apply({type:"insert_node",path:w,node:b})}if(c){var O=Ne.end(e,a);O&&nt.select(e,O)}}}}))},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ne.withoutNormalizing(e,(()=>{var{at:r=e.selection,mode:n="lowest",voids:o=!1}=t,{match:i}=t;if(null==i&&(i=qe.isPath(r)?Xe(e,r):t=>Ne.isBlock(e,t)),r){var a=Ne.nodes(e,{at:r,match:i,mode:n,voids:o}),s=Array.from(a,(t=>{var[,r]=t;return Ne.pathRef(e,r)}));for(var c of s){var u=c.unref();if(u.length<2)throw new Error("Cannot lift node at a path [".concat(u,"] because it has a depth of less than `2`."));var f=Ne.node(e,qe.parent(u)),[l,h]=f,d=u[u.length-1],{length:p}=l.children;if(1===p){var v=qe.next(h);nt.moveNodes(e,{at:u,to:v,voids:o}),nt.removeNodes(e,{at:h,voids:o})}else if(0===d)nt.moveNodes(e,{at:u,to:h,voids:o});else if(d===p-1){var g=qe.next(h);nt.moveNodes(e,{at:u,to:g,voids:o})}else{var y=qe.next(u),m=qe.next(h);nt.splitNodes(e,{at:y,voids:o}),nt.moveNodes(e,{at:u,to:m,voids:o})}}}}))},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ne.withoutNormalizing(e,(()=>{var{match:r,at:n=e.selection}=t,{hanging:o=!1,voids:i=!1,mode:a="lowest"}=t;if(n){if(null==r)if(qe.isPath(n)){var[s]=Ne.parent(e,n);r=e=>s.children.includes(e)}else r=t=>Ne.isBlock(e,t);if(!o&&Je.isRange(n)&&(n=Ne.unhangRange(e,n)),Je.isRange(n))if(Je.isCollapsed(n))n=n.anchor;else{var[,c]=Je.edges(n),u=Ne.pointRef(e,c);nt.delete(e,{at:n}),n=u.unref(),null==t.at&&nt.select(e,n)}var[f]=Ne.nodes(e,{at:n,match:r,voids:i,mode:a}),l=Ne.previous(e,{at:n,match:r,voids:i,mode:a});if(f&&l){var[h,d]=f,[p,v]=l;if(0!==d.length&&0!==v.length){var g,y,m=qe.next(v),b=qe.common(d,v),w=qe.isSibling(d,v),O=Array.from(Ne.levels(e,{at:d}),(e=>{var[t]=e;return t})).slice(b.length).slice(0,-1),x=Ne.above(e,{at:d,mode:"highest",match:e=>O.includes(e)&&Be.isElement(e)&&1===e.children.length}),P=x&&Ne.pathRef(e,x[1]);if($e.isText(h)&&$e.isText(p)){var j=ve(h,["text"]);y=p.text.length,g=j}else{if(!Be.isElement(h)||!Be.isElement(p))throw new Error("Cannot merge the node at path [".concat(d,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(h)," ").concat(JSON.stringify(p)));j=ve(h,["children"]),y=p.children.length,g=j}w||nt.moveNodes(e,{at:d,to:m,voids:i}),P&&nt.removeNodes(e,{at:P.current,voids:i}),Be.isElement(p)&&Ne.isEmpty(e,p)||$e.isText(p)&&""===p.text?nt.removeNodes(e,{at:v,voids:i}):e.apply({type:"merge_node",path:m,position:y,properties:g}),P&&P.unref()}}}}))},moveNodes(e,t){Ne.withoutNormalizing(e,(()=>{var{to:r,at:n=e.selection,mode:o="lowest",voids:i=!1}=t,{match:a}=t;if(n){null==a&&(a=qe.isPath(n)?Xe(e,n):t=>Ne.isBlock(e,t));var s=Ne.pathRef(e,r),c=Ne.nodes(e,{at:n,match:a,mode:o,voids:i}),u=Array.from(c,(t=>{var[,r]=t;return Ne.pathRef(e,r)}));for(var f of u){var l=f.unref(),h=s.current;0!==l.length&&e.apply({type:"move_node",path:l,newPath:h})}s.unref()}}))},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ne.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:n=!1,mode:o="lowest"}=t,{at:i=e.selection,match:a}=t;if(i){null==a&&(a=qe.isPath(i)?Xe(e,i):t=>Ne.isBlock(e,t)),!r&&Je.isRange(i)&&(i=Ne.unhangRange(e,i));var s=Ne.nodes(e,{at:i,match:a,mode:o,voids:n}),c=Array.from(s,(t=>{var[,r]=t;return Ne.pathRef(e,r)}));for(var u of c){var f=u.unref();if(f){var[l]=Ne.node(e,f);e.apply({type:"remove_node",path:f,node:l})}}}}))},setNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ne.withoutNormalizing(e,(()=>{var{match:n,at:o=e.selection}=r,{hanging:i=!1,mode:a="lowest",split:s=!1,voids:c=!1}=r;if(o){if(null==n&&(n=qe.isPath(o)?Xe(e,o):t=>Ne.isBlock(e,t)),!i&&Je.isRange(o)&&(o=Ne.unhangRange(e,o)),s&&Je.isRange(o)){var u=Ne.rangeRef(e,o,{affinity:"inward"}),[f,l]=Je.edges(o),h="lowest"===a?"lowest":"highest";nt.splitNodes(e,{at:l,match:n,mode:h,voids:c}),nt.splitNodes(e,{at:f,match:n,mode:h,voids:c}),o=u.unref(),null==r.at&&nt.select(e,o)}for(var[d,p]of Ne.nodes(e,{at:o,match:n,mode:a,voids:c})){var v={},g={};if(0!==p.length){for(var y in t)"children"!==y&&"text"!==y&&t[y]!==d[y]&&(v[y]=d[y],g[y]=t[y]);0!==Object.keys(g).length&&e.apply({type:"set_node",path:p,properties:v,newProperties:g})}}}}))},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ne.withoutNormalizing(e,(()=>{var{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection,height:a=0,always:s=!1}=t;if(null==o&&(o=t=>Ne.isBlock(e,t)),Je.isRange(i)&&(i=Qe(e,i)),qe.isPath(i)){var c=i,u=Ne.point(e,c),[f]=Ne.parent(e,c);o=e=>e===f,a=u.path.length-c.length+1,i=u,s=!0}if(i){var l=Ne.pointRef(e,i,{affinity:"backward"}),[h]=Ne.nodes(e,{at:i,match:o,mode:r,voids:n});if(h){var d=Ne.void(e,{at:i,mode:"highest"});if(!n&&d){var[p,v]=d;if(Be.isElement(p)&&e.isInline(p)){var g=Ne.after(e,v);if(!g){var y=qe.next(v);nt.insertNodes(e,{text:""},{at:y,voids:n}),g=Ne.point(e,y)}i=g,s=!0}a=i.path.length-v.length+1,s=!0}var m=Ne.pointRef(e,i),b=i.path.length-a,[,w]=h,O=i.path.slice(0,b),x=0===a?i.offset:i.path[b]+0;for(var[P,j]of Ne.levels(e,{at:O,reverse:!0,voids:n})){var A=!1;if(j.length<w.length||0===j.length||!n&&Ne.isVoid(e,P))break;var E=l.current,F=Ne.isEnd(e,E,j);if(s||!l||!Ne.isEdge(e,E,j)){A=!0;var k=ve(P,["text","children"]);e.apply({type:"split_node",path:j,position:x,properties:k})}x=j[j.length-1]+(A||F?1:0)}if(null==t.at){var S=m.current||Ne.end(e,[]);nt.select(e,S)}l.unref(),m.unref()}}}))},unsetNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var o of t)n[o]=null;nt.setNodes(e,n,r)},unwrapNodes(e,t){Ne.withoutNormalizing(e,(()=>{var{mode:r="lowest",split:n=!1,voids:o=!1}=t,{at:i=e.selection,match:a}=t;if(i){null==a&&(a=qe.isPath(i)?Xe(e,i):t=>Ne.isBlock(e,t)),qe.isPath(i)&&(i=Ne.range(e,i));var s=Je.isRange(i)?Ne.rangeRef(e,i):null,c=Ne.nodes(e,{at:i,match:a,mode:r,voids:o}),u=Array.from(c,(t=>{var[,r]=t;return Ne.pathRef(e,r)})),f=function(t){var r=t.unref(),[i]=Ne.node(e,r),a=Ne.range(e,r);n&&s&&(a=Je.intersection(s.current,a)),nt.liftNodes(e,{at:a,match:e=>i.children.includes(e),voids:o})};for(var l of u)f(l);s&&s.unref()}}))},wrapNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ne.withoutNormalizing(e,(()=>{var{mode:n="lowest",split:o=!1,voids:i=!1}=r,{match:a,at:s=e.selection}=r;if(s){if(null==a&&(a=qe.isPath(s)?Xe(e,s):e.isInline(t)?t=>Ne.isInline(e,t)||$e.isText(t):t=>Ne.isBlock(e,t)),o&&Je.isRange(s)){var[c,u]=Je.edges(s),f=Ne.rangeRef(e,s,{affinity:"inward"});nt.splitNodes(e,{at:u,match:a,voids:i}),nt.splitNodes(e,{at:c,match:a,voids:i}),s=f.unref(),null==r.at&&nt.select(e,s)}var l=Array.from(Ne.nodes(e,{at:s,match:e.isInline(t)?t=>Ne.isBlock(e,t):e=>Ne.isEditor(e),mode:"lowest",voids:i}));for(var[,h]of l){var d=Je.isRange(s)?Je.intersection(s,Ne.range(e,h)):s;if(d){var p=Array.from(Ne.nodes(e,{at:d,match:a,mode:n,voids:i}));p.length>0&&function(){var[r]=p,n=p[p.length-1],[,o]=r,[,a]=n,s=qe.equals(o,a)?qe.parent(o):qe.common(o,a),c=Ne.range(e,o,a),u=Ne.node(e,s),[f]=u,l=s.length+1,h=qe.next(a.slice(0,l)),d=Ye({},t,{children:[]});nt.insertNodes(e,d,{at:h,voids:i}),nt.moveNodes(e,{at:c,match:e=>f.children.includes(e),to:h.concat(0),voids:i})}()}}}}))}},Qe=(e,t)=>{if(Je.isCollapsed(t))return t.anchor;var[,r]=Je.edges(t),n=Ne.pointRef(e,r);return nt.delete(e,{at:t}),n.unref()},Xe=(e,t)=>{var[r]=Ne.node(e,t);return e=>e===r};function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var nt=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{transform(e,t){e.children=he(e.children);var r=e.selection&&he(e.selection);switch(t.type){case"insert_node":var{path:n,node:o}=t,i=_e.parent(e,n),a=n[n.length-1];if(i.children.splice(a,0,o),r)for(var[s,c]of Je.points(r))r[c]=Ve.transform(s,t);break;case"insert_text":var{path:u,offset:f,text:l}=t,h=_e.leaf(e,u),d=h.text.slice(0,f),p=h.text.slice(f);if(h.text=d+l+p,r)for(var[v,g]of Je.points(r))r[g]=Ve.transform(v,t);break;case"merge_node":var{path:y}=t,b=_e.get(e,y),w=qe.previous(y),O=_e.get(e,w),x=_e.parent(e,y),P=y[y.length-1];if($e.isText(b)&&$e.isText(O))O.text+=b.text;else{if($e.isText(b)||$e.isText(O))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interaces: ").concat(b," ").concat(O));O.children.push(...b.children)}if(x.children.splice(P,1),r)for(var[j,A]of Je.points(r))r[A]=Ve.transform(j,t);break;case"move_node":var{path:E,newPath:F}=t;if(qe.isAncestor(E,F))throw new Error("Cannot move a path [".concat(E,"] to new path [").concat(F,"] because the destination is inside itself."));var k=_e.get(e,E),S=_e.parent(e,E),D=E[E.length-1];S.children.splice(D,1);var C=qe.transform(E,t),N=_e.get(e,qe.parent(C)),B=C[C.length-1];if(N.children.splice(B,0,k),r)for(var[R,_]of Je.points(r))r[_]=Ve.transform(R,t);break;case"remove_node":var{path:M}=t,T=M[M.length-1];if(_e.parent(e,M).children.splice(T,1),r)for(var[z,q]of Je.points(r)){var I=Ve.transform(z,t);if(null!=r&&null!=I)r[q]=I;else{var V=void 0,W=void 0;for(var[J,L]of _e.texts(e)){if(-1!==qe.compare(L,M)){W=[J,L];break}V=[J,L]}V?(z.path=V[1],z.offset=V[0].text.length):W?(z.path=W[1],z.offset=0):r=null}}break;case"remove_text":var{path:U,offset:$,text:H}=t,K=_e.leaf(e,U),Z=K.text.slice(0,$),Y=K.text.slice($+H.length);if(K.text=Z+Y,r)for(var[G,Q]of Je.points(r))r[Q]=Ve.transform(G,t);break;case"set_node":var{path:X,newProperties:ee}=t;if(0===X.length)throw new Error("Cannot set properties on the root node!");var te=_e.get(e,X);for(var re in ee){if("children"===re||"text"===re)throw new Error('Cannot set the "'.concat(re,'" property of nodes!'));var ne=ee[re];null==ne?delete te[re]:te[re]=ne}break;case"set_selection":var{newProperties:oe}=t;if(null==oe)r=oe;else if(null==r){if(!Je.isRange(oe))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(oe)," when there is no current selection."));r=oe}else Object.assign(r,oe);break;case"split_node":var{path:ie,position:ae,properties:se}=t;if(0===ie.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ie,"] because the root node cannot be split."));var ce,ue=_e.get(e,ie),fe=_e.parent(e,ie),le=ie[ie.length-1];if($e.isText(ue)){var pe=ue.text.slice(0,ae),ve=ue.text.slice(ae);ue.text=pe,ce=Ke({},ue,{},se,{text:ve})}else{var ge=ue.children.slice(0,ae),ye=ue.children.slice(ae);ue.children=ge,ce=Ke({},ue,{},se,{children:ye})}if(fe.children.splice(le+1,0,ce),r)for(var[me,be]of Je.points(r))r[be]=Ve.transform(me,t)}e.children=de(e.children),e.selection=r?m(r)?de(r):r:null}},{},Ge,{},{collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)nt.select(e,n.anchor);else if("focus"===r)nt.select(e,n.focus);else if("start"===r){var[o]=Je.edges(n);nt.select(e,o)}else if("end"===r){var[,i]=Je.edges(n);nt.select(e,i)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:o="character",reverse:i=!1}=t,{edge:a=null}=t;if(r){"start"===a&&(a=Je.isBackward(r)?"focus":"anchor"),"end"===a&&(a=Je.isBackward(r)?"anchor":"focus");var{anchor:s,focus:c}=r,u={distance:n,unit:o},f={};if(null==a||"anchor"===a){var l=i?Ne.before(e,s,u):Ne.after(e,s,u);l&&(f.anchor=l)}if(null==a||"focus"===a){var h=i?Ne.before(e,c,u):Ne.after(e,c,u);h&&(f.focus=h)}nt.setSelection(e,f)}},select(e,t){var{selection:r}=e;if(t=Ne.range(e,t),r)nt.setSelection(e,t);else{if(!Je.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint(e,t,r){var{selection:n}=e,{edge:o="both"}=r;if(n){"start"===o&&(o=Je.isBackward(n)?"focus":"anchor"),"end"===o&&(o=Je.isBackward(n)?"anchor":"focus");var{anchor:i,focus:a}=n,s="anchor"===o?i:a;nt.setSelection(e,{["anchor"===o?"anchor":"focus"]:tt({},s,{},t)})}},setSelection(e,t){var{selection:r}=e,n={},o={};if(r){for(var i in t)("anchor"===i&&null!=t.anchor&&!Ve.equals(t.anchor,r.anchor)||"focus"===i&&null!=t.focus&&!Ve.equals(t.focus,r.focus)||"anchor"!==i&&"focus"!==i&&t[i]!==r[i])&&(n[i]=r[i],o[i]=t[i]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},{},{delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ne.withoutNormalizing(e,(()=>{var{reverse:r=!1,unit:n="character",distance:o=1,voids:i=!1}=t,{at:a=e.selection,hanging:s=!1}=t;if(a){if(Je.isRange(a)&&Je.isCollapsed(a)&&(a=a.anchor),Ve.isPoint(a)){var c=Ne.void(e,{at:a,mode:"highest"});if(!i&&c){var[,u]=c;a=u}else{var f={unit:n,distance:o};a={anchor:a,focus:r?Ne.before(e,a,f)||Ne.start(e,[]):Ne.after(e,a,f)||Ne.end(e,[])},s=!0}}if(qe.isPath(a))nt.removeNodes(e,{at:a,voids:i});else if(!Je.isCollapsed(a)){s||(a=Ne.unhangRange(e,a,{voids:i}));var[l,h]=Je.edges(a),d=Ne.above(e,{match:t=>Ne.isBlock(e,t),at:l,voids:i}),p=Ne.above(e,{match:t=>Ne.isBlock(e,t),at:h,voids:i}),v=d&&p&&!qe.equals(d[1],p[1]),g=qe.equals(l.path,h.path),y=i?null:Ne.void(e,{at:l,mode:"highest"}),m=i?null:Ne.void(e,{at:h,mode:"highest"});if(y){var b=Ne.before(e,l);b&&d&&qe.isAncestor(d[1],b.path)&&(l=b)}if(m){var w=Ne.after(e,h);w&&p&&qe.isAncestor(p[1],w.path)&&(h=w)}var O,x=[];for(var P of Ne.nodes(e,{at:a,voids:i})){var[j,A]=P;O&&0===qe.compare(A,O)||(!i&&Ne.isVoid(e,j)||!qe.isCommon(A,l.path)&&!qe.isCommon(A,h.path))&&(x.push(P),O=A)}var E=Array.from(x,(t=>{var[,r]=t;return Ne.pathRef(e,r)})),F=Ne.pointRef(e,l),k=Ne.pointRef(e,h);if(!g&&!y){var S=F.current,[D]=Ne.leaf(e,S),{path:C}=S,{offset:N}=l,B=D.text.slice(N);e.apply({type:"remove_text",path:C,offset:N,text:B})}for(var R of E){var _=R.unref();nt.removeNodes(e,{at:_,voids:i})}if(!m){var M=k.current,[T]=Ne.leaf(e,M),{path:z}=M,q=g?l.offset:0,I=T.text.slice(q,h.offset);e.apply({type:"remove_text",path:z,offset:q,text:I})}!g&&v&&k.current&&F.current&&nt.mergeNodes(e,{at:k.current,hanging:!0,voids:i});var V=k.unref()||F.unref();null==t.at&&V&&nt.select(e,V)}}}))},insertFragment(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ne.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:o=!1}=r,{at:i=e.selection}=r;if(t.length&&i){if(Je.isRange(i))if(n||(i=Ne.unhangRange(e,i)),Je.isCollapsed(i))i=i.anchor;else{var[,a]=Je.edges(i);if(!o&&Ne.void(e,{at:a}))return;var s=Ne.pointRef(e,a);nt.delete(e,{at:i}),i=s.unref()}else qe.isPath(i)&&(i=Ne.start(e,i));if(o||!Ne.void(e,{at:i})){var c=Ne.above(e,{at:i,match:t=>Ne.isInline(e,t),mode:"highest",voids:o});if(c){var[,u]=c;Ne.isEnd(e,i,u)?i=Ne.after(e,u):Ne.isStart(e,i,u)&&(i=Ne.before(e,u))}var f=Ne.above(e,{match:t=>Ne.isBlock(e,t),at:i,voids:o}),[,l]=f,h=Ne.isStart(e,i,l),d=Ne.isEnd(e,i,l),p=!h||h&&d,v=!d,[,g]=_e.first({children:t},[]),[,y]=_e.last({children:t},[]),m=[],b=t=>{var[r,n]=t;return!(p&&qe.isAncestor(n,g)&&Be.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)||v&&qe.isAncestor(n,y)&&Be.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))};for(var w of _e.nodes({children:t},{pass:b}))w[1].length>0&&b(w)&&m.push(w);var O=[],x=[],P=[],j=!0,A=!1;for(var[E]of m)Be.isElement(E)&&!e.isInline(E)?(j=!1,A=!0,x.push(E)):j?O.push(E):P.push(E);var[F]=Ne.nodes(e,{at:i,match:t=>$e.isText(t)||Ne.isInline(e,t),mode:"highest",voids:o}),[,k]=F,S=Ne.isStart(e,i,k),D=Ne.isEnd(e,i,k),C=Ne.pathRef(e,d?qe.next(l):l),N=Ne.pathRef(e,D?qe.next(k):k);nt.splitNodes(e,{at:i,match:t=>A?Ne.isBlock(e,t):$e.isText(t)||Ne.isInline(e,t),mode:A?"lowest":"highest",voids:o});var B=Ne.pathRef(e,!S||S&&D?qe.next(k):k);if(nt.insertNodes(e,O,{at:B.current,match:t=>$e.isText(t)||Ne.isInline(e,t),mode:"highest",voids:o}),nt.insertNodes(e,x,{at:C.current,match:t=>Ne.isBlock(e,t),mode:"lowest",voids:o}),nt.insertNodes(e,P,{at:N.current,match:t=>$e.isText(t)||Ne.isInline(e,t),mode:"highest",voids:o}),!r.at){var R;R=P.length>0?qe.previous(N.current):x.length>0?qe.previous(C.current):qe.previous(B.current);var _=Ne.end(e,R);nt.select(e,_)}B.unref(),C.unref(),N.unref()}}}))},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ne.withoutNormalizing(e,(()=>{var{voids:n=!1}=r,{at:o=e.selection}=r;if(o){if(qe.isPath(o)&&(o=Ne.range(e,o)),Je.isRange(o))if(Je.isCollapsed(o))o=o.anchor;else{var i=Je.end(o);if(!n&&Ne.void(e,{at:i}))return;var a=Ne.pointRef(e,i);nt.delete(e,{at:o,voids:n}),o=a.unref(),nt.setSelection(e,{anchor:o,focus:o})}if(n||!Ne.void(e,{at:o})){var{path:s,offset:c}=o;e.apply({type:"insert_text",path:s,offset:c,text:t})}}}))}}),ot=r(670),it=r.n(ot),at=function(e){var t=e.editor,r=e.currPageIndex,n=t.children[r].children.length;nt.insertNodes(t,{type:"page",id:it().generate(),children:[]},{at:[r,n]}),nt.liftNodes(t,{at:[r,n]})},st=function(e){var t=e.editor,r=t.children.length,n=t.children[r-1].children.length,o=t.children[r-1].children[n-1];o&&void 0===!o.text&&nt.removeNodes(t,{at:[r-1,n-1]})},ct=function(e){var t=e.node,r=(e.config,e.dimensions),n=function(e){if("paragraph"===e.type){var t=e.children.map((function(e){return e.text})).reduce((function(e,t){return e+t}),""),n=document.createElement("span"),o="\n        width: ".concat(r.pageWidth,"px;\n        white-space: pre-wrap;\n        overflow-wrap: break-word;\n        display: block;\n      ");n.setAttribute("style",o),n.innerHTML=t,document.body.appendChild(n);var i=parseFloat(window.getComputedStyle(n).getPropertyValue("height").replace("px",""));return document.body.removeChild(n),Math.max(Math.floor(i),18)}};return"paragraph"===t.type?n(t):"component"===t.type?t.children.reduce((function(e,t){return e+n(t)}),0):18},ut=function(e){return{type:"paragraph",id:it().generate(),children:[{text:e}]}},ft=function(e){for(var t=e.info,r=e.config,n=e.dimensions,o=t.editor,i=t.node,a=t.path,s=function(e){return e.node.children.map((function(e){return e.text})).reduce((function(e,t){return e+t}),"")}({node:i}),c=o.children[a[0]].children.slice(0,a[1]).reduce((function(e,t){return e+ct({node:t,config:r,dimensions:n})}),0),u=0,f=0;f<s.length;f+=5){var l=s.slice(0,f+5);if(c+ct({node:ut(l),config:r,dimensions:n})>n.pageHeight){u=Math.max(0,f-5);break}}0===u?nt.removeNodes(o,{at:[a[0],a[1]]}):nt.insertText(o,s.slice(0,u),{at:a});var h=o.children[a[0]+1].children[0];if(h&&"component"===h.type){var d=[];if(o.children.slice(a[0]).forEach((function(e,t){var r=e.children.findIndex((function(e){return"component"!==e.type}));2!==d.length&&-1!==r&&(d.push(t),d.push(r))})),2!==d.length){var p=o.children.length-1,v=o.children[p].children.length;d.push(p),d.push(v)}nt.insertNodes(o,ut(s.slice(u)),{at:d})}else nt.insertNodes(o,ut(s.slice(u)),{at:[a[0]+1,0]});st({editor:o})};function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){dt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pt(e){return function(e){if(Array.isArray(e))return gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){if(e){if("string"==typeof e)return gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gt(e,t):void 0}}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yt=function(e){return{type:"paragraph",id:it().generate(),children:[{text:e}]}},mt=function(e){var t=e.info,r=e.config,n=e.dimensions,o=t.editor,i=t.node,a=t.path,s=o.children[a[0]+1].children[0];s&&"component"===s.type||nt.insertNodes(o,{type:"component",id:it().generate(),children:[yt("")]},{at:[a[0]+1,0]});for(var c=o.children[a[0]].children.slice(0,a[1]).reduce((function(e,t){return e+ct({node:t,config:r,dimensions:n})}),0),u=0,f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||vt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.children[i.children.length-1].children,1)[0].text,l=function(e){var t=f.slice(0,e+5),o=ct({node:ht(ht({},i),{},{children:i.children.map((function(e,r,n){return r===n.length-1?yt(t):e}))}),config:r,dimensions:n});if(c+o>n.pageHeight)return u=Math.max(0,e-5),"break"},h=0;h<f.length&&"break"!==l(h);h+=5);if(0===u){nt.liftNodes(o,{at:[].concat(pt(a),[i.children.length-1])});var d=1===i.children.length?a[1]:a[1]+1;return nt.moveNodes(o,{at:[a[0],d],to:[a[0]+1,0,0]}),void st({editor:o})}nt.insertText(o,f.slice(0,u),{at:[].concat(pt(a),[i.children.length-1])}),nt.insertNodes(o,yt(f.slice(u)),{at:[a[0]+1,0,0]}),st({editor:o}),function(e){var t=e.editor,r=e.page,n=e.row,o=e.componentRow,i=e.offset,a=void 0!==o?[r,n,o,0]:[r,n,0];nt.setSelection(t,{anchor:{path:a,offset:i},focus:{path:a,offset:i}})}({editor:o,page:a[0]+1,componentRow:0,row:0,offset:0})};function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||wt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){if(e){if("string"==typeof e)return Ot(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xt=function(e){return function(t){var r=t.normalizeNode,n=t.apply;return t.normalizeNode=function(n){var o,i,a,s=bt(n,2),c=s[0],u=s[1],f=(c.id,o=document.querySelector('[data-page-id]:not([data-page-id=""])'),i=window.getComputedStyle(o).getPropertyValue("height").replace("px",""),a=window.getComputedStyle(o).getPropertyValue("width").replace("px",""),{pageHeight:Math.ceil(parseFloat(i)),pageWidth:Math.ceil(parseFloat(a))});if(Be.isElement(c)&&"page"===c.type){var l,h=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=wt(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(_e.children(t,u));try{for(h.s();!(l=h.n()).done;){var d=bt(l.value,2),p=d[0],v=d[1],g=c.children.slice(0,v[1]+1).reduce((function(t,r){return t+ct({node:r,config:e,dimensions:f})}),0),y=v[0];if(g>f.pageHeight){t.children[y+1]||at({editor:t,node:c,currPageIndex:y});var m={editor:t,node:p,path:v};"component"===p.type?mt({info:m,config:e,dimensions:f}):ft({info:m,config:e,dimensions:f})}}}catch(e){h.e(e)}finally{h.f()}var b=t.children[u[0]+1];if(b){var w=b.children;c.children.reduce((function(t,r){return t+ct({node:r,config:e,dimensions:f})}),0)<f.pageHeight&&Boolean(w.length)&&(nt.moveNodes(t,{at:[u[0]+1,0],to:[u[0],c.children.length]}),1===w.length&&nt.removeNodes(t,{at:[u[0]+1]}))}}r(n)},t.apply=function(e){"split_node"===e.type&&e.properties.type,n(e)},t}}},181:function(e,t,r){var n;e=r.nmd(e),function(o){var i=(e&&e.exports,"object"==typeof r.g&&r.g);i.global!==i&&i.window;var a=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,s=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,c=function(e){for(var t="",r=(e=e.replace(a,(function(e,t,r){return c(r)+t})).replace(s,"$2$1")).length;r--;)t+=e.charAt(r);return t},u={version:"0.2.0",reverse:c};void 0===(n=function(){return u}.call(t,r,t,e))||(e.exports=n)}()},921:function(e){e.exports=function(e,t,r){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*n*r/t.length),i="";;)for(var a=e(o),s=o;s--;)if((i+=t[a[s]&n]||"").length===+r)return i}},670:function(e,t,r){"use strict";e.exports=r(607)},829:function(e,t,r){"use strict";var n,o,i,a=r(946),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){i=!1}function u(e){if(e){if(e!==n){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,r){return t!==r.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));n=e,c()}}else n!==s&&(n=s,c())}function f(){return i||(i=function(){n||u(s);for(var e,t=n.split(""),r=[],o=a.nextValue();t.length>0;)o=a.nextValue(),e=Math.floor(o*t.length),r.push(t.splice(e,1)[0]);return r.join("")}())}e.exports={get:function(){return n||s},characters:function(e){return u(e),n},seed:function(e){a.seed(e),o!==e&&(c(),o=e)},lookup:function(e){return f()[e]},shuffled:f}},480:function(e,t,r){"use strict";var n,o,i=r(416);r(829),e.exports=function(e){var t="",r=Math.floor(.001*(Date.now()-1567752802062));return r===o?n++:(n=0,o=r),t+=i(7),t+=i(e),n>0&&(t+=i(n)),t+i(r)}},416:function(e,t,r){"use strict";var n=r(829),o=r(766),i=r(921);e.exports=function(e){for(var t,r=0,a="";!t;)a+=i(o,n.get(),1),t=e<Math.pow(16,r+1),r++;return a}},607:function(e,t,r){"use strict";var n=r(829),o=r(480),i=r(82),a=r(636)||0;function s(){return o(a)}e.exports=s,e.exports.generate=s,e.exports.seed=function(t){return n.seed(t),e.exports},e.exports.worker=function(t){return a=t,e.exports},e.exports.characters=function(e){return void 0!==e&&n.characters(e),n.shuffled()},e.exports.isValid=i},82:function(e,t,r){"use strict";var n=r(829);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+n.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},766:function(e){"use strict";var t,r="object"==typeof window&&(window.crypto||window.msCrypto);t=r&&r.getRandomValues?function(e){return r.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},e.exports=t},946:function(e){"use strict";var t=1;e.exports={nextValue:function(){return(t=(9301*t+49297)%233280)/233280},seed:function(e){t=e}}},636:function(e){"use strict";e.exports=0}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r(415)}()}));